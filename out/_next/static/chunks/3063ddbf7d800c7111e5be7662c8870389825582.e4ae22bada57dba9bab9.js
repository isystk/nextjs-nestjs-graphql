(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{mF6t:function(t,e,r){"use strict";var n=r("rePB"),a=r("o0o1"),o=r.n(a),c=r("HaE+"),i=r("q1tI"),u=r.n(i),s=r("/MKj"),p=r("20a2"),l=r("pbvU"),f=r("TIW3"),d=r("vckU"),b=r("Ug2z"),m=r("wx14"),h=r("RD7I"),y=r("cNwE");var v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(h.a)(t,Object(m.a)({defaultTheme:y.a},e))},g=r("tRbT"),O=r("30+C"),j=r("Ff2n"),w=(r("17x9"),r("iuhU")),x=r("H2TA"),k=r("NqtD"),P={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},N=i.forwardRef((function(t,e){var r=t.align,n=void 0===r?"inherit":r,a=t.classes,o=t.className,c=t.color,u=void 0===c?"initial":c,s=t.component,p=t.display,l=void 0===p?"initial":p,f=t.gutterBottom,d=void 0!==f&&f,b=t.noWrap,h=void 0!==b&&b,y=t.paragraph,v=void 0!==y&&y,g=t.variant,O=void 0===g?"body1":g,x=t.variantMapping,N=void 0===x?P:x,E=Object(j.a)(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),M=s||(v?"p":N[O]||P[O])||"span";return i.createElement(M,Object(m.a)({className:Object(w.a)(a.root,o,"inherit"!==O&&a[O],"initial"!==u&&a["color".concat(Object(k.a)(u))],h&&a.noWrap,d&&a.gutterBottom,v&&a.paragraph,"inherit"!==n&&a["align".concat(Object(k.a)(n))],"initial"!==l&&a["display".concat(Object(k.a)(l))]),ref:e},E))})),E=Object(x.a)((function(t){return{root:{margin:0},body2:t.typography.body2,body1:t.typography.body1,caption:t.typography.caption,button:t.typography.button,h1:t.typography.h1,h2:t.typography.h2,h3:t.typography.h3,h4:t.typography.h4,h5:t.typography.h5,h6:t.typography.h6,subtitle1:t.typography.subtitle1,subtitle2:t.typography.subtitle2,overline:t.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorTextPrimary:{color:t.palette.text.primary},colorTextSecondary:{color:t.palette.text.secondary},colorError:{color:t.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(N),M=i.forwardRef((function(t,e){var r=t.action,n=t.avatar,a=t.classes,o=t.className,c=t.component,u=void 0===c?"div":c,s=t.disableTypography,p=void 0!==s&&s,l=t.subheader,f=t.subheaderTypographyProps,d=t.title,b=t.titleTypographyProps,h=Object(j.a)(t,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),y=d;null==y||y.type===E||p||(y=i.createElement(E,Object(m.a)({variant:n?"body2":"h5",className:a.title,component:"span",display:"block"},b),y));var v=l;return null==v||v.type===E||p||(v=i.createElement(E,Object(m.a)({variant:n?"body2":"body1",className:a.subheader,color:"textSecondary",component:"span",display:"block"},f),v)),i.createElement(u,Object(m.a)({className:Object(w.a)(a.root,o),ref:e},h),n&&i.createElement("div",{className:a.avatar},n),i.createElement("div",{className:a.content},y,v),r&&i.createElement("div",{className:a.action},r))})),S=Object(x.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(M),T=r("oa/T"),B=r("o4QW"),D=r("Z3vd"),R=r("KYPV"),I=r("UGp+"),_=r("MjdS"),C=r("wd/R"),F=r.n(C),H=u.a.createElement;function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function W(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}e.a=function(t){var e=t.postId,r=t.user,n=!!e,a=Object(p.useRouter)(),u=Object(i.useState)(!0),m=u[0],h=u[1],y=Object(s.d)(d.g),j=y.loading,w=y.error,x=y.items,k=Object(s.c)();Object(i.useEffect)((function(){Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,k(Object(d.c)(r.token,Number(e)));case 3:h(!1),t.next=7;break;case 6:h(!1);case 7:case"end":return t.stop()}}),t)})))()}),[e]);var P=Object(i.useState)({}),N=P[0],E=P[1];Object(i.useEffect)((function(){var t=x[e]||{title:"",description:"",photo:""};E(W(W({},t),{},{regist_data_yyyymmdd:t.regist_datetime&&F()(t.regist_datetime).format("YYYY/MM/DD HH:mm")}))}),[x]);var M=v((function(t){return{padding:{padding:t.spacing(3)},button:{margin:t.spacing(1)}}}))();if(j||m)return H("p",null,"...loading");if(w)return H("p",null,w);if(e&&N&&Number(r.id)!==Number(N.authorId))return H("p",null,"Not Found");var C=W({},N),U=function(t){return H("p",{className:"error"},t)},q=I.a().shape({title:I.b().required(U("\u30bf\u30a4\u30c8\u30eb\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002")),description:I.b().required(U("\u672c\u6587\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002")),photo:I.b().required(U("\u5199\u771f\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"))}),A=function(){var t=Object(c.a)(o.a.mark((function t(c){var i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k(Object(f.e)()),i=W(W({},c),{},{authorId:Number(r.id)}),!n){t.next=7;break}return t.next=5,k(Object(d.f)(r.token,Number(e),i));case 5:t.next=9;break;case 7:return t.next=9,k(Object(d.e)(r.token,i));case 9:a.push(l.a.MEMBER),k(Object(f.c)());case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("\u524a\u9664\u3057\u307e\u3059\u3002\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f")){t.next=2;break}return t.abrupt("return",!1);case 2:return k(Object(f.e)()),t.next=5,k(Object(d.b)(r.token,Number(e)));case 5:a.push(l.a.MEMBER),k(Object(f.c)());case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return H(g.a,{container:!0,justifyContent:"center",spacing:1},H(g.a,{item:!0,md:12},H(O.a,{className:M.padding},H(S,{title:"\u6295\u7a3f\u3059\u308b\u8a18\u4e8b\u5185\u5bb9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),H(R.e,{initialValues:C,validationSchema:q,onSubmit:A},(function(t){t.setFieldValue;var e=t.dirty,r=t.isValid;t.values,t.handleChange,t.handleBlur;return H(R.d,null,H(T.a,null,H(g.a,{item:!0,container:!0,spacing:1,justifyContent:"center"},H(g.a,{item:!0,xs:12,sm:12,md:12},H(b.a,{label:"\u30bf\u30a4\u30c8\u30eb",name:"title",type:"text"})),H(g.a,{item:!0,xs:12,sm:12,md:12},H(b.b,{label:"\u672c\u6587",name:"description"})),H(g.a,{item:!0,xs:12,sm:12,md:12},H(_.a,{label:"\u5199\u771f",name:"photo"})))),H(B.a,null,H(g.a,{item:!0,xs:12,sm:6,md:6},n&&H(D.a,{variant:"contained",color:"secondary",type:"Button",className:M.button,onClick:Y},"\u524a\u9664\u3059\u308b"),H(D.a,{disabled:!e||!r,variant:"contained",color:"primary",type:"Submit",className:M.button},"\u767b\u9332\u3059\u308b"))))})))))}},vckU:function(t,e,r){"use strict";r.d(e,"d",(function(){return N})),r.d(e,"c",(function(){return E})),r.d(e,"e",(function(){return M})),r.d(e,"f",(function(){return S})),r.d(e,"b",(function(){return T})),r.d(e,"g",(function(){return B}));var n=r("rePB"),a=r("o0o1"),o=r.n(a),c=r("HaE+"),i=r("i7Pf"),u=r("nNPz"),s=r("LvDl"),p=r("zKrs");function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(){var t=Object(c.a)(o.a.mark((function t(e,r){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.mutate({mutation:u.f,variables:{token:e,authorId:r}});case 2:return n=t.sent,a=n.data,t.abrupt("return",{data:a.getMyPosts});case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),b=function(){var t=Object(c.a)(o.a.mark((function t(e,r){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.mutate({mutation:u.e,variables:{token:e,id:r}});case 2:return n=t.sent,a=n.data,t.abrupt("return",{data:a.getMyPost});case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),m=function(){var t=Object(c.a)(o.a.mark((function t(e,r){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.mutate({mutation:u.b,variables:f(f({},r),{},{token:e})});case 2:return n=t.sent,a=n.data,t.abrupt("return",{data:a.createPost});case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),h=function(){var t=Object(c.a)(o.a.mark((function t(e,r,n){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.mutate({mutation:u.j,variables:f(f({},n),{},{token:e,id:r})});case 2:return a=t.sent,c=a.data,t.abrupt("return",{data:c.updatePost});case 5:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),y=function(){var t=Object(c.a)(o.a.mark((function t(e,r){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.mutate({mutation:u.c,variables:{token:e,id:r}});case 2:return n=t.sent,a=n.data,t.abrupt("return",{data:a.deletePost});case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),v=Object(i.a)({name:"member_posts",initialState:{loading:!1,error:null,items:[]},reducers:{fetchStart:function(t,e){t.loading=!0,t.error=null},fetchFailure:function(t,e){t.loading=!1,t.error=e.payload},fetchMemberPosts:function(t,e){t.loading=!1,t.error=null,t.items=s.mapKeys(e.payload.data,"id")},fetchMemberPost:function(t,e){t.loading=!1,t.error=null;var r=e.payload.data;t.items=f(f({},t.items),{},Object(n.a)({},r.id,r))},unfetchMemberPost:function(t,e){t.loading=!1,t.error=null;var r=e.payload.data;delete t.items[r],t.items=f({},t.items)}}}),g=v.actions,O=g.fetchStart,j=g.fetchFailure,w=g.fetchMemberPosts,x=g.fetchMemberPost,k=g.unfetchMemberPost,P=function(t){return function(){var e=Object(c.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r(O()),r(t)}catch(n){r(j(n.stack))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(t,e){return function(){var r=Object(c.a)(o.a.mark((function r(n){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=n,r.t1=P,r.t2=w,r.next=5,d(t,e);case 5:r.t3=r.sent,r.t4=(0,r.t2)(r.t3),r.t5=(0,r.t1)(r.t4),(0,r.t0)(r.t5);case 9:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()},E=function(t,e){return function(){var r=Object(c.a)(o.a.mark((function r(n){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=n,r.t1=P,r.t2=x,r.next=5,b(t,e);case 5:r.t3=r.sent,r.t4=(0,r.t2)(r.t3),r.t5=(0,r.t1)(r.t4),(0,r.t0)(r.t5);case 9:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()},M=function(t,e){return function(){var r=Object(c.a)(o.a.mark((function r(n){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=n,r.t1=P,r.t2=x,r.next=5,m(t,e);case 5:r.t3=r.sent,r.t4=(0,r.t2)(r.t3),r.t5=(0,r.t1)(r.t4),(0,r.t0)(r.t5);case 9:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()},S=function(t,e,r){return function(){var n=Object(c.a)(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=a,n.t1=P,n.t2=x,n.next=5,h(t,e,r);case 5:n.t3=n.sent,n.t4=(0,n.t2)(n.t3),n.t5=(0,n.t1)(n.t4),(0,n.t0)(n.t5);case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},T=function(t,e){return function(){var r=Object(c.a)(o.a.mark((function r(n){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=n,r.t1=P,r.t2=k,r.next=5,y(t,e);case 5:r.t3=r.sent,r.t4=(0,r.t2)(r.t3),r.t5=(0,r.t1)(r.t4),(0,r.t0)(r.t5);case 9:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()},B=function(t){return t.memberPosts};e.a=v.reducer}}]);